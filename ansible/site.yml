---
- name: Apply base configuration to every server
  hosts: all
  become: true
  roles:
    - role: common
      tags: [common]

- name: Configure Jenkins
  hosts: jenkins
  become: true
  roles:
    - role: jenkins
      tags: [jenkins]

- name: Configure Nexus
  hosts: nexus
  become: true
  roles:
    - role: nexus
      tags: [nexus]

- name: Configure SonarQube
  hosts: sonarqube
  become: true
  roles:
    - role: sonarqube
      tags: [sonarqube]
